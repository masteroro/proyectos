<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="style.css"> 
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://kit.fontawesome.com/57faba85b1.js" crossorigin="anonymous"></script>
        <script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/7768644.js"></script>
        <title>TechSpot</title>
    </head>
    <header class="bg-light p-3">    
        <div class="container d-flex justify-content-between align-items-center">
        <img src="img/logo2.png" class="logo" alt="TechSpot Logo">  
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container">
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="http://localhost/web2/index.html">Inicio</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link bubble dropdown-toggle" href="#" id="catalogoDropdown" role="button">
                                Catálogo
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="catalogoDropdown">
                                
                                <li><a class="dropdown-item" href="http://localhost/web2/cat-impresoras.html">Impresoras</a></li>
                                <li><a class="dropdown-item" href="http://localhost/web2/cat-tablet.html">Tablets</a></li>
                                <li><a class="dropdown-item" href="http://localhost/web2/cat-kits.html">Kits punto de Venta</a></li>
                                <li><a class="dropdown-item" href="http://localhost/web2/cat-disp.html">Dispositivos Moviles</a></li>
                            </ul>
                            
                        </li>
                        <li class="nav-item">
                            <a class="nav-link bubble" href="http://localhost/web2/carrito.html">Carrito</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="http://localhost/web2/login.php">Inicio Sesión</a>
                            
                        </li>
                        <li class="d-flex justify-content-end">
                            <form class="search-form" action="buscar.html" method="get">
                                <input class="form-control me-2" type="search" name="query" placeholder="Buscar" aria-label="Buscar">
                                <button class="btn btn-outline-success" type="submit">Buscar</button>
                            </form>
                        </li>
                        
                        
                    </ul>
                </div>
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <nav id="carrito" class="position-relative">
                            <i class="fa-solid fa-cart-shopping">
                                <div class="buy-card">
                                    <ul class="nav-card">
                                        <li>Visualización</li>
                                        <li>Nombre</li>
                                        <li>Precio</li>
                                        <li>Cantidad</li>
                                        <li></li>
                                    </ul>
                                    <div class="lista_de_productos">
                                        
                                    </div>
                                    <button id="vaciar_carrito">Vaciar Carrito</button>
                                </div>
                            </i>
                        </nav>
                    </li>
                </ul>
            </div>
        </nav>
    </div>
</header>
<head>
    <main>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Buscar Productos</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <style>
        .grid {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        .items {
            border: 1px solid #ddd;
            padding: 10px;
            border-radius: 8px;
            width: 200px;
        }
        .items img {
            width: 100%;
            height: auto;
        }
        .descuento p {
            font-size: 1.2rem;
            color: #000000;
        }
        .detalles, .agregar-carrito {
            margin-top: 10px;
        }
        .detalles {
            background-color: #5bc0de;
            color: white;
        }
        .agregar-carrito {
            background-color: #5cb85c;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container-title">
        <h1 class="mb-4"> Resultados Búsqueda</h1>
    </div>
    <div id="mensaje-sin-resultados" class="mensaje-sin-resultados" style="display: none;">
        <h1>Sin Resultados en Búsqueda</h1>
    </div>
        <div class="grid" id="lista-productos">
            <!-- Los productos se añadirán aquí dinámicamente -->
        </div>
    </div>

    <script>
        // Productos disponibles (debería ser reemplazado con datos dinámicos del servidor)
        const productos = [
            {
                id: 2,
                img: 'img/tablet.jpg',
                alt: 'Tablet Huawei 10 Pulgadas',
                nombre: 'Tablet Huawei 10 Pulgadas',
                modelo: 'Modelo T 10',
                precio: '$190.000',
                detalles: 'tablet2.html'
            },
            {
                id: 12,
                img: 'img/tablet.robusta.jpg',
                alt: 'Tablet Robusta Urovo',
                nombre: 'Tablet Robusta Urovo',
                modelo: 'P8100',
                precio: '$649.000',
                detalles: 'tablet12.html'
            },
            {
                id: 13,
                img: 'img/tablet.lenovo.jpg',
                alt: 'Tablet Lenovo Tab M8',
                nombre: 'Tablet Lenovo',
                modelo: 'Tab M8',
                precio: '$150.000',
                detalles: 'tablet13.html'
            },
            {
                "id": 6,
                "img": "img/impresora.jpg",
                "alt": "Impresora Térmica 58MM USB/Bluetooth",
                "nombre": "IMPRESORA TERMICA",
                "modelo": "58MM USB/Bluetooth",
                "precio": "$75.000",
                "detalles": "impresora6.html"
            },
            {
                "id": 10,
                "img": "img/impresora2.jpg",
                "alt": "Impresora Térmica 58MM USB/Bluetooth",
                "nombre": "IMPRESORAS POS",
                "modelo": "SEWOO SLK-TS100",
                "precio": "$149.000",
                "detalles": "impresora10.html"
            },
            {
                "id": 11,
                "img": "img/impresora4.jpg",
                "alt": "Impresora Térmica 58MM USB/Bluetooth",
                "nombre": "Impresora Térmica de Etiquetas Portátil",
                "modelo": "Sewoo LK-P43 4\" 203dpi",
                "precio": "$650.000",
                "detalles": "impresora11.html"
            },
            {
                "id": 1,
                "img": "img/puntoventa.jpg",
                "alt": "Punto de Venta Wifi",
                "nombre": "Punto de Venta Wifi / bluetooth",
                "modelo": "Android",
                "precio": "$250.000",
                "detalles": "kit1.html"
            },
            {
                "id": 14,
                "img": "img/post.table14.jpg",
                "alt": "Kit Pos Tablet",
                "nombre": "Kit Pos Tablet",
                "modelo": "P8100",
                "precio": "$250.000",
                "detalles": "kit14.html"
            },
            {
                "id": 4,
                "img": "img/postone.jpg",
                "alt": "POS ONE T2-7000R 15",
                "nombre": "POS ONE T2-7000R 15",
                "modelo": "Tab M8",
                "precio": "$825.000",
                "detalles": "kit4.html"
            },
            {
                "id": 3,
                "img": "img/imin.jpg",
                "alt": "TIMIN SWIFT 1",
                "nombre": "IMIN SWIFT 1",
                "modelo": "Android",
                "precio": "$350.000",
                "detalles": "disp3.html"
            },
            {
                "id": 5,
                "img": "img/zebra.jpg",
                "alt": "Zebra TC21 SE4710",
                "nombre": "Zebra TC21 SE4710",
                "modelo": "TC21 SE4710",
                "precio": "$650.000",
                "detalles": "disp5.html"
            }
            
        ];

        // Obtener el término de búsqueda
        const urlParams = new URLSearchParams(window.location.search);
        const query = urlParams.get('query').toLowerCase();

        // Filtrar los productos según la búsqueda
        const productosFiltrados = productos.filter(producto =>
            producto.nombre.toLowerCase().includes(query) ||
            producto.modelo.toLowerCase().includes(query)
        );

        // Mostrar los productos filtrados
        const listaProductos = document.getElementById('lista-productos');
        const mensajeSinResultados = document.getElementById('mensaje-sin-resultados');

        if (productosFiltrados.length === 0) {
            // Mostrar mensaje de sin resultados
            mensajeSinResultados.style.display = 'block';
        } else {
            // Mostrar productos filtrados
            productosFiltrados.forEach(producto => {
                const productoHTML = `
                    <div class="items">
                        <img src="${producto.img}" alt="${producto.alt}">
                        <div class="info">
                            <h3>${producto.nombre}</h3>
                            <p>${producto.modelo}</p>
                            <div class="descuento">
                                <p>${producto.precio}</p>
                            </div>
                            <button class="detalles" data-id="${producto.id}" onclick="window.location.href='${producto.detalles}';">Ver detalles</button>
                            <button class="agregar-carrito" data-id="${producto.id}">Agregar al Carrito</button>
                        </div>
                    </div>
                `;
                listaProductos.innerHTML += productoHTML;
            });
        }
    </script>
</body>
</main>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="http://localhost/web2/script.js"></script>
<script src="script.js"></script>
<footer class="bg-light py-3">
    <div class="footer-content"></div>
      <img src="img/WebPay3.png" alt="WebPay3" class="footer-image">
    </div>
    <div class="container footer">
      <p>&copy; 2024 TechSpot. Todos los derechos reservados.</p>
    </div>    
</footer>
</html>
